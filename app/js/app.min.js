"use strict";var landingPageWiz=angular.module("landingPageWiz",["ngRoute","ngAnimate","angular.filter"]);landingPageWiz.config(["$routeProvider",function(t){t.when("/",{templateUrl:"partials/main.html",controller:"mainCtrl",controllerAs:"main"}).when("/template/:templateId",{templateUrl:"partials/detail.html",controller:"detailCtrl",controllerAs:"detail"}).when("/template/:templateId/c/:campaignId",{templateUrl:"partials/detail.html",controller:"detailCtrl",controllerAs:"detail"}).otherwise({redirectTo:"/"})}]),landingPageWiz.controller("detailCtrl",["$routeParams","appdata","$filter","$scope","$rootScope",function(t,a,e,l,n,i){var r=a.templates,o=a.campaigns,s=t.templateId,p=t.campaignId,c=e("filter")(r,{id:s})[0];p||(p=c.defaultCampaignId);var d=e("filter")(o,{id:p})[0],g=e("filter")(o,{templateId:s,id:"!"+p});this.template=c,this.campaign=d,this.otherCampaigns=g,c.custom?this.customFlag="Custom":this.customFlag="Standard",this.slide=function(t){n.slidePage=t},n.$on("$routeChangeSuccess",function(t,a,e){window.scrollTo(0,0)})}]),landingPageWiz.controller("mainCtrl",["$routeParams","$scope","appdata","$filter","$rootScope",function(t,a,e,l,n){for(var i=e.templates,r=e.campaigns,o=0;o<r.length;o++){var s=l("filter")(i,{id:r[o].templateId})[0];r[o].templateTitle=s.title}this.campaigns=r,this.slide=function(t){n.slidePage=t},n.$on("$routeChangeSuccess",function(t,a,e){window.scrollTo(0,0)})}]),landingPageWiz.factory("appdata",["$http","$q",function(t,a){var e="http://web-q-hospital.prod.ehc.com/global/webq/landing-page-wizard/v1/test-data/templates.json",l="http://web-q-hospital.prod.ehc.com/global/webq/landing-page-wizard/v1/test-data/campaigns.json",n={};n.templates=[],n.campaigns=[];var i=t.get(e),r=t.get(l);return a.all([i,r]).then(function(t){var a=[];return angular.forEach(t,function(t){a.push(t.data)}),a}).then(function(t){for(var a=t[0].templates,e=0;e<a.length;e++)n.templates.push(a[e]);return t}).then(function(t){for(var a=t[1].campaigns,e=0;e<a.length;e++)n.campaigns.push(a[e])}),n}]);