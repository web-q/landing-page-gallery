"use strict";var landingPageWiz=angular.module("landingPageWiz",["ngRoute","ngAnimate","angular.filter"]);landingPageWiz.config(["$routeProvider",function(t){t.when("/",{templateUrl:"partials/main.html",controller:"mainCtrl",controllerAs:"main",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/debug",{templateUrl:"partials/debug.html",controller:"debugCtrl",controllerAs:"debug",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/:templateId",{templateUrl:"partials/detail.html",controller:"detailCtrl",controllerAs:"detail",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/:templateId/:campaignId",{templateUrl:"partials/detail.html",controller:"detailCtrl",controllerAs:"detail",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).otherwise({redirectTo:"/"})}]),landingPageWiz.run(["$rootScope",function(t){t.$on("$routeChangeStart",function(e,a){t.loadingView=!0}),t.$on("$routeChangeSuccess",function(e,a){t.loadingView=!1})}]),landingPageWiz.controller("detailCtrl",["$routeParams","appdata","$filter","$scope","$rootScope",function(t,e,a,n,i,l){var r=e.templates,o=e.campaigns,c=t.templateId,s=t.campaignId,p=a("filter")(r,{id:c})[0];s||(s=p.defaultCampaignId);var g=a("filter")(o,{id:s})[0],d=a("filter")(o,{templateId:c,id:"!"+s});this.template=p,this.campaign=g,this.otherCampaigns=d,p.custom?this.customFlag="Custom":this.customFlag="Standard",this.slide=function(t){i.slidePage=t},i.$on("$routeChangeSuccess",function(t,e,a){window.scrollTo(0,0)})}]),landingPageWiz.controller("mainCtrl",["$routeParams","$scope","appdata","$filter","$rootScope",function(t,e,a,n,i){for(var l=a.templates,r=a.campaigns,o=0;o<r.length;o++){var c=n("filter")(l,{id:r[o].templateId})[0];r[o].templateTitle=c.title}this.campaigns=r,this.slide=function(t){i.slidePage=t},i.$on("$routeChangeSuccess",function(t,e,a){window.scrollTo(0,0)})}]),landingPageWiz.controller("debugCtrl",["$routeParams","$scope","appdata","$filter","$rootScope",function(t,e,a,n,i){this.templates=a.templates,this.campaigns=a.campaigns,this.printdata=a}]),landingPageWiz.factory("fetchData",["$q","$http",function(t,e){function a(){var a=t.defer();return i?a.resolve(i):e({method:"GET",url:"http://web-q-hospital.prod.ehc.com/global/webq/report/campaign-pages/campaign-pages.json"}).then(function(t){i=t.data,a.resolve(i)},function(t){a.reject(t)}),a.promise}function n(){i=null}var i;return{getCampaigns:a,clearCache:n}}]);