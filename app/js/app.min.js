"use strict";var MD5=function(t){function e(t,e){return t<<e|t>>>32-e}function r(t,e){var r,a,n,i,o;return n=2147483648&t,i=2147483648&e,r=1073741824&t,a=1073741824&e,o=(1073741823&t)+(1073741823&e),r&a?2147483648^o^n^i:r|a?1073741824&o?3221225472^o^n^i:1073741824^o^n^i:o^n^i}function a(t,e,r){return t&e|~t&r}function n(t,e,r){return t&r|e&~r}function i(t,e,r){return t^e^r}function o(t,e,r){return e^(t|~r)}function l(t,n,i,o,l,c,s){return t=r(t,r(r(a(n,i,o),l),s)),r(e(t,c),n)}function c(t,a,i,o,l,c,s){return t=r(t,r(r(n(a,i,o),l),s)),r(e(t,c),a)}function s(t,a,n,o,l,c,s){return t=r(t,r(r(i(a,n,o),l),s)),r(e(t,c),a)}function d(t,a,n,i,l,c,s){return t=r(t,r(r(o(a,n,i),l),s)),r(e(t,c),a)}function g(t){for(var e,r=t.length,a=r+8,n=(a-a%64)/64,i=16*(n+1),o=Array(i-1),l=0,c=0;r>c;)e=(c-c%4)/4,l=c%4*8,o[e]=o[e]|t.charCodeAt(c)<<l,c++;return e=(c-c%4)/4,l=c%4*8,o[e]=o[e]|128<<l,o[i-2]=r<<3,o[i-1]=r>>>29,o}function u(t){var e,r,a="",n="";for(r=0;3>=r;r++)e=t>>>8*r&255,n="0"+e.toString(16),a+=n.substr(n.length-2,2);return a}function p(t){t=t.replace(/rn/g,"n");for(var e="",r=0;r<t.length;r++){var a=t.charCodeAt(r);128>a?e+=String.fromCharCode(a):a>127&&2048>a?(e+=String.fromCharCode(a>>6|192),e+=String.fromCharCode(63&a|128)):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128),e+=String.fromCharCode(63&a|128))}return e}var f,m,h,v,C,k,$,S,P,w=Array(),b=7,y=12,z=17,W=22,A=5,D=9,T=14,U=20,I=4,L=11,q=16,E=23,R=6,j=10,B=15,F=21;for(t=p(t),w=g(t),k=1732584193,$=4023233417,S=2562383102,P=271733878,f=0;f<w.length;f+=16)m=k,h=$,v=S,C=P,k=l(k,$,S,P,w[f+0],b,3614090360),P=l(P,k,$,S,w[f+1],y,3905402710),S=l(S,P,k,$,w[f+2],z,606105819),$=l($,S,P,k,w[f+3],W,3250441966),k=l(k,$,S,P,w[f+4],b,4118548399),P=l(P,k,$,S,w[f+5],y,1200080426),S=l(S,P,k,$,w[f+6],z,2821735955),$=l($,S,P,k,w[f+7],W,4249261313),k=l(k,$,S,P,w[f+8],b,1770035416),P=l(P,k,$,S,w[f+9],y,2336552879),S=l(S,P,k,$,w[f+10],z,4294925233),$=l($,S,P,k,w[f+11],W,2304563134),k=l(k,$,S,P,w[f+12],b,1804603682),P=l(P,k,$,S,w[f+13],y,4254626195),S=l(S,P,k,$,w[f+14],z,2792965006),$=l($,S,P,k,w[f+15],W,1236535329),k=c(k,$,S,P,w[f+1],A,4129170786),P=c(P,k,$,S,w[f+6],D,3225465664),S=c(S,P,k,$,w[f+11],T,643717713),$=c($,S,P,k,w[f+0],U,3921069994),k=c(k,$,S,P,w[f+5],A,3593408605),P=c(P,k,$,S,w[f+10],D,38016083),S=c(S,P,k,$,w[f+15],T,3634488961),$=c($,S,P,k,w[f+4],U,3889429448),k=c(k,$,S,P,w[f+9],A,568446438),P=c(P,k,$,S,w[f+14],D,3275163606),S=c(S,P,k,$,w[f+3],T,4107603335),$=c($,S,P,k,w[f+8],U,1163531501),k=c(k,$,S,P,w[f+13],A,2850285829),P=c(P,k,$,S,w[f+2],D,4243563512),S=c(S,P,k,$,w[f+7],T,1735328473),$=c($,S,P,k,w[f+12],U,2368359562),k=s(k,$,S,P,w[f+5],I,4294588738),P=s(P,k,$,S,w[f+8],L,2272392833),S=s(S,P,k,$,w[f+11],q,1839030562),$=s($,S,P,k,w[f+14],E,4259657740),k=s(k,$,S,P,w[f+1],I,2763975236),P=s(P,k,$,S,w[f+4],L,1272893353),S=s(S,P,k,$,w[f+7],q,4139469664),$=s($,S,P,k,w[f+10],E,3200236656),k=s(k,$,S,P,w[f+13],I,681279174),P=s(P,k,$,S,w[f+0],L,3936430074),S=s(S,P,k,$,w[f+3],q,3572445317),$=s($,S,P,k,w[f+6],E,76029189),k=s(k,$,S,P,w[f+9],I,3654602809),P=s(P,k,$,S,w[f+12],L,3873151461),S=s(S,P,k,$,w[f+15],q,530742520),$=s($,S,P,k,w[f+2],E,3299628645),k=d(k,$,S,P,w[f+0],R,4096336452),P=d(P,k,$,S,w[f+7],j,1126891415),S=d(S,P,k,$,w[f+14],B,2878612391),$=d($,S,P,k,w[f+5],F,4237533241),k=d(k,$,S,P,w[f+12],R,1700485571),P=d(P,k,$,S,w[f+3],j,2399980690),S=d(S,P,k,$,w[f+10],B,4293915773),$=d($,S,P,k,w[f+1],F,2240044497),k=d(k,$,S,P,w[f+8],R,1873313359),P=d(P,k,$,S,w[f+15],j,4264355552),S=d(S,P,k,$,w[f+6],B,2734768916),$=d($,S,P,k,w[f+13],F,1309151649),k=d(k,$,S,P,w[f+4],R,4149444226),P=d(P,k,$,S,w[f+11],j,3174756917),S=d(S,P,k,$,w[f+2],B,718787259),$=d($,S,P,k,w[f+9],F,3951481745),k=r(k,m),$=r($,h),S=r(S,v),P=r(P,C);var M=u(k)+u($)+u(S)+u(P);return M.toLowerCase()},landingPageWiz=angular.module("landingPageWiz",["ngRoute","ngAnimate","angular.filter","ngOnload"]);landingPageWiz.config(["$routeProvider",function(t){t.when("/",{templateUrl:"partials/main.html",controller:"mainCtrl",controllerAs:"main",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/debug",{templateUrl:"partials/debug.html",controller:"debugCtrl",controllerAs:"debug",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/tag",{templateUrl:"partials/tagtool.html",controller:"tagtoolCtrl",controllerAs:"tagtool",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/:shortCode",{templateUrl:"partials/detail.html",controller:"detailCtrl",controllerAs:"detail",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).otherwise({redirectTo:"/"})}]),landingPageWiz.run(["$rootScope","$timeout","$window",function(t,e,r){t.$on("$routeChangeStart",function(){t.loadingView=!0}),t.$on("$routeChangeSuccess",function(){t.loadingView=!1,e(function(){r.scrollTo(0,0)},400)}),t.appName="Landing Page Wizard"}]),landingPageWiz.directive("ngSpinner",function(){return{template:'<div class="sk-fading-circle">\r\n<div class="sk-circle1 sk-circle"></div>\r\n<div class="sk-circle2 sk-circle"></div>\r\n<div class="sk-circle3 sk-circle"></div>\r\n<div class="sk-circle4 sk-circle"></div>\r\n<div class="sk-circle5 sk-circle"></div>\r\n<div class="sk-circle6 sk-circle"></div>\r\n<div class="sk-circle7 sk-circle"></div>\r\n<div class="sk-circle8 sk-circle"></div>\r\n<div class="sk-circle9 sk-circle"></div>\r\n<div class="sk-circle10 sk-circle"></div>\r\n<div class="sk-circle11 sk-circle"></div>\r\n<div class="sk-circle12 sk-circle"></div>\r\n</div>'}}),landingPageWiz.controller("detailCtrl",["$sce","$routeParams","appdata","$filter","$scope","$rootScope",function(t,e,r,a,n,i){var o=r.templates,l=r.campaigns,c=e.shortCode,s=a("filter")(l,{shortCode:c})[0],d=s.templateId,g=a("filter")(o,{id:d})[0],u=a("filter")(l,{templateId:d,shortCode:"!"+c});this.iframeURL=t.trustAsResourceUrl(s.url),this.template=g,this.campaign=s,this.otherCampaigns=u,g.custom?this.customFlag="Custom":this.customFlag="Standard",this.slide=function(t){i.pageTransition=t},this.frameLoaded=function(){document.getElementById("campaign-frame").style.display="block",document.getElementById("iframe-loader").style.display="none"}}]),landingPageWiz.controller("mainCtrl",["$routeParams","appdata","$filter","$scope","$rootScope",function(t,e,r,a,n){for(var i=e.templates,o=e.campaigns,l=[],c=[],s=0;s<o.length;s++){var d=r("filter")(i,{id:o[s].templateId})[0];o[s].templateTitle=d.title,l=l.concat(o[s].topic),c=c.concat(o[s].type)}this.campaigns=o,this.topics=l,this.types=c,this.slide=function(t){n.pageTransition=t}}]),landingPageWiz.controller("debugCtrl",["appdata",function(t){this.templates=t.templates,this.campaigns=t.campaigns,this.printdata=t}]),landingPageWiz.controller("tagtoolCtrl",["appdata",function(t){this.templates=t.templates,this.campaigns=t.campaigns}]),landingPageWiz.factory("fetchData",["$q","$http","$rootScope",function(t,e,r){function a(){var a=t.defer();return i?a.resolve(i):(r.pageTransition="fadepage",e({method:"GET",url:"http://web-q-hospital.prod.ehc.com/global/webq/report/campaign-pages/campaign-pages.json"}).then(function(t){i=t.data;for(var e=i.campaigns,r=0;r<e.length;r++)e[r].shortCode=MD5(e[r].id).substring(0,6);a.resolve(i)},function(t){a.reject(t)})),a.promise}function n(){i=null}var i;return{getCampaigns:a,clearCache:n,cache:i}}]);