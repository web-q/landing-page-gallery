"use strict";var landingPageWiz=angular.module("landingPageWiz",["ngRoute","ngAnimate","angular.filter"]);landingPageWiz.config(["$routeProvider",function(t){t.when("/",{templateUrl:"partials/main.html",controller:"mainCtrl",controllerAs:"main",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/debug",{templateUrl:"partials/debug.html",controller:"debugCtrl",controllerAs:"debug",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/:templateId",{templateUrl:"partials/detail.html",controller:"detailCtrl",controllerAs:"detail",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).when("/:templateId/:campaignId",{templateUrl:"partials/detail.html",controller:"detailCtrl",controllerAs:"detail",resolve:{appdata:["fetchData",function(t){return t.getCampaigns()}]}}).otherwise({redirectTo:"/"})}]),landingPageWiz.run(["$rootScope",function(t){t.$on("$routeChangeStart",function(a,e){t.loadingView=!0}),t.$on("$routeChangeSuccess",function(a,e){t.loadingView=!1})}]),landingPageWiz.controller("detailCtrl",["$routeParams","appdata","$filter","$scope","$rootScope",function(t,a,e,n,i,r){var l=a.templates,o=a.campaigns,c=t.templateId,s=t.campaignId,p=e("filter")(l,{id:c})[0];s||(s=p.defaultCampaignId);var g=e("filter")(o,{id:s})[0],d=e("filter")(o,{templateId:c,id:"!"+s});this.template=p,this.campaign=g,this.otherCampaigns=d,p.custom?this.customFlag="Custom":this.customFlag="Standard",this.slide=function(t){i.pageTransition=t},i.$on("$routeChangeSuccess",function(t,a,e){window.scrollTo(0,0)})}]),landingPageWiz.controller("mainCtrl",["$routeParams","$scope","appdata","$filter","$rootScope",function(t,a,e,n,i){for(var r=e.templates,l=e.campaigns,o=0;o<l.length;o++){l[o].templateId="1";var c=n("filter")(r,{id:l[o].templateId})[0];l[o].templateTitle=c.title}this.campaigns=l,this.slide=function(t){i.pageTransition=t},i.$on("$routeChangeSuccess",function(t,a,e){window.scrollTo(0,0)})}]),landingPageWiz.controller("debugCtrl",["$routeParams","$scope","appdata","$filter","$rootScope",function(t,a,e,n,i){this.templates=e.templates,this.campaigns=e.campaigns,this.printdata=e}]),landingPageWiz.factory("fetchData",["$q","$http",function(t,a){function e(){var e=t.defer();return i?e.resolve(i):a({method:"GET",url:"http://web-q-hospital.prod.ehc.com/global/webq/report/campaign-pages/campaign-pages.json"}).then(function(t){i=t.data,e.resolve(i)},function(t){e.reject(t)}),e.promise}function n(){i=null}var i;return{getCampaigns:e,clearCache:n}}]);